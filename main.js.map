{"version":3,"sources":["./src/app/recipe/recipe-list/recipe-list.component.ts","./src/app/recipe/recipe-list/recipe-list.component.html","./src/app/recipe/recipe-list/recipe-item/recipe-item.component.ts","./src/app/recipe/recipe-list/recipe-item/recipe-item.component.html","./src/app/recipe/recipe-edit/recipe-edit.component.ts","./src/app/recipe/recipe-edit/recipe-edit.component.html","./src/app/shared/ingredient.model.ts","./src/environments/environment.ts","./src/app/recipe/recipe-start/recipe-start.component.ts","./src/app/recipe/recipe-start/recipe-start.component.html","./src/app/shared/data-storage.service.ts","./src/app/recipe/recipe.component.ts","./src/app/recipe/recipe.component.html","./src/app/recipe/recipe-detail/recipe-detail.component.ts","./src/app/recipe/recipe-detail/recipe-detail.component.html","./src/app/recipe/recipe.service.ts","./src/app/recipe/recipe-resolver.service.ts","./src/app/auth/auth.component.ts","./src/app/auth/auth.component.html","./src/app/auth/auth-interceptor.service.ts","./src/app/auth/auth.guard.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/Shared/dropdown.directive.ts","./src/app/shopping-list/shopping-edit/shopping-edit.component.ts","./src/app/shopping-list/shopping-edit/shopping-edit.component.html","./src/app/app.module.ts","./src/app/auth/user.model.ts","./src/app/header/header.component.ts","./src/app/header/header.component.html","./src/app/shopping-list/shopping-list.service.ts","./src/app/auth/auth.service.ts","./src/app/shopping-list/shopping-list.component.ts","./src/app/shopping-list/shopping-list.component.html","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object","./src/app/shared/loading-spinner/loading-spinner.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { Recipe } from '../recipe.model';\nimport { RecipeService } from '../recipe.service';\n\n@Component({\n  selector: 'app-recipe-list',\n  templateUrl: './recipe-list.component.html',\n  styleUrls: ['./recipe-list.component.css']\n})\nexport class RecipeListComponent implements OnInit, OnDestroy {\n\n  recipes : Recipe[];\n  subscription : Subscription;\n\n\n  constructor(private recipeService: RecipeService, private router: Router, private route: ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.subscription = this.recipeService.recipeChanged.subscribe(\n      (recipes : Recipe[]) => {\n        this.recipes = recipes;\n      }\n    )\n    this.recipes = this.recipeService.getRecipes();\n\n  }\n\n  onNewRecipe(){\n    this.router.navigate(['new'], {relativeTo: this.route});\n  }\n\n  ngOnDestroy(): void {\n      this.subscription.unsubscribe();\n  }\n  \n}\n","<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <button class=\"btn btn-success\" (click)=\"onNewRecipe()\"> New Recipe</button>\n    </div>\n</div>\n<hr>\n<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <app-recipe-item *ngFor=\"let item of recipes; let i = index\"\n         [recipe] = \"item\" [index]=\"i\"></app-recipe-item>\n    </div>\n</div>\n\n","import { Component, Input, OnInit} from '@angular/core';\nimport { Recipe } from '../../recipe.model';\n\n@Component({\n  selector: 'app-recipe-item',\n  templateUrl: './recipe-item.component.html',\n  styleUrls: ['./recipe-item.component.css']\n})\nexport class RecipeItemComponent implements OnInit {\n\n  @Input() recipe : Recipe;\n  @Input() index: number;\n  ngOnInit(): void {\n  }\n\n}\n","<a style=\"cursor: pointer;\" [routerLink]=\"[index]\" routerLinkActive=\"active\" class=\"list-group-item clearfix\">\n    <div class=\"pull-left\">\n        <h4 class=\"list-group-item-heading\">{{recipe.name}}</h4>\n        <p class=\"list-group-item-text\">{{recipe.description}}</p>\n    </div>\n    <span class=\"pull-right\">\n        <img [src]=\"recipe.imagePath\" alt={{recipe.name}} class=\"src alt img-responsive\" style=\"max-height: 50px;\">\n    </span>\n</a>","import { Component, OnInit } from '@angular/core';\nimport { FormArray, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { RecipeService } from '../recipe.service';\n\n@Component({\n  selector: 'app-recipe-edit',\n  templateUrl: './recipe-edit.component.html',\n  styleUrls: ['./recipe-edit.component.css']\n})\nexport class RecipeEditComponent implements OnInit {\n\n  id:number;\n  editMode = false;\n  recipeForm : FormGroup;\n\n  public get controls()  {\n    return (<FormArray>this.recipeForm.get('ingredients')).controls;\n  }\n\n  constructor(private route : ActivatedRoute, private recipeService : RecipeService, private router : Router) { \n    \n  }\n  ngOnInit(): void {\n    this.route.params\n    .subscribe(\n      (params : Params) => {\n        this.id = +params['id'];\n        this.editMode = params['id'] != null;\n        this.InitForm();\n      }\n    )\n  }\n  \n\n  onSubmit()\n  {\n   /* const newRecipe = new Recipe( \n      this.recipeForm.value['name'],\n      this.recipeForm.value['imagePath'],\n      this.recipeForm.value['description'], \n      this.recipeForm.value['ingredients']);*/\n\n    if (this.editMode)\n    {\n      this.recipeService.updateRecipe(this.id, this.recipeForm.value);\n    }\n    else\n    {\n      this.recipeService.addRecipe(this.recipeForm.value);\n    }\n    this.onCancel();\n  }\n\n  private InitForm()\n  {\n    \n    let recipeName = '';\n    let recipeImagePath = '';\n    let recipeDescription = '';\n    let recipeIngredients = new FormArray([]);\n\n    if(this.editMode){\n      const recipe = this.recipeService.getRecipe(this.id);\n      recipeName = recipe.name;\n      recipeImagePath = recipe.imagePath;\n      recipeDescription = recipe.description;\n      if(recipe['ingredients'])\n      {\n        for (let ingredient of recipe.ingredients){\n          recipeIngredients.push(\n            new FormGroup({\n              'name' : new FormControl(ingredient.name, Validators.required),\n              'amount' : new FormControl(ingredient.amount,\n                                        [Validators.required , Validators.pattern (/^[1-9]+[0-9]*$/)])\n            })\n          )\n        }\n      }\n    }\n\n    this.recipeForm = new FormGroup({\n      'name' : new FormControl(recipeName, Validators.required),\n      'imagePath' : new FormControl(recipeImagePath, Validators.required),\n      'description' : new FormControl(recipeDescription, Validators.required),\n      'ingredients' : recipeIngredients\n    });\n  }\n\n  onAddIngredient()\n  {\n    (<FormArray>this.recipeForm.get('ingredients')).push(\n      new FormGroup({\n        'name' : new FormControl(null, Validators.required),\n        'amount' : new FormControl(null,[Validators.required , Validators.pattern (/^[1-9]+[0-9]*$/)])\n      })\n    )\n  } \n\n  onCancel()\n  {\n    this.router.navigate(['../'], {relativeTo : this.route});\n  }\n\n  onDeleteIngredient(index : number){\n    (<FormArray>this.recipeForm.get('ingredients')).removeAt(index);\n  }\n}\n","<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <form [formGroup] = \"recipeForm\" (ngSubmit) = \"onSubmit()\">\n            <div class=\"row\">\n                <div class=\"col-xs-12\">\n                    <button type=\"submit\" class=\"btn btn-success\" [disabled] = \"!recipeForm.valid\">\n                        Save\n                    </button>\n                    <button type=\"button\" class=\"btn btn-danger\" (click)=\"onCancel()\">\n                        Cancel\n                    </button>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-xs-12\">\n                    <div class=\"form-group\">\n                        <label for=\"name\">Name</label>\n                        <input type=\"text\" formControlName = \"name\" id=\"name\" class=\"form-control\">\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-xs-12\">\n                    <div class=\"form-group\">\n                        <label for=\"imagePath\">Image URL</label>\n                        <input type=\"text\" formControlName = \"imagePath\" id=\"imagePath\" class=\"form-control\" #imagePath>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-xs-12\">\n                    <img [src]=\"imagePath.value\" class=\"img-responsive\">\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-xs-12\">\n                    <div class=\"form-group\">\n                        <label for=\"description\">Description</label>\n                        <textarea type=\"text\" formControlName = \"description\" id=\"description\" class=\"form-control\" rows=\"6\"></textarea>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-xs-12\" formArrayName = \"ingredients\">\n                    <div class=\"row\" \n                    *ngFor=\"let ingredientCtrl of controls; let i = index\"\n                    [formGroupName] = \"i\" style=\"margin-top: 10px;\">\n                        <div class=\"col-xs-8\">\n                            <input type=\"text\" formControlName=\"name\" class=\"form-control\">\n                        </div>\n                        <div class=\"col-xs-2\">\n                            <input type=\"number\" formControlName=\"amount\" class=\"form-control\">\n                        </div>\n                        <div class=\"col-xs-2\">\n                            <button type=\"button\" class=\"btn btn-danger\" (click)=\"onDeleteIngredient(i)\">X</button>\n                        </div>\n                    </div>\n                    <hr>\n                    <div class=\"row\">\n                        <div class=\"col-xs-12\">\n                            <button type = \"button\" class=\"btn btn-success\" (click)=\"onAddIngredient()\">\n                                Add Ingredient\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n","export class Ingredient {\r\n    constructor(public name: string, public amount:number) {}\r\n}","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-recipe-start',\n  templateUrl: './recipe-start.component.html',\n  styleUrls: ['./recipe-start.component.css']\n})\nexport class RecipeStartComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<h3>\n    Please select a recipe!\n</h3>","import { HttpClient, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Recipe } from '../recipe/recipe.model';\nimport { RecipeService } from '../recipe/recipe.service';\nimport { map, tap, take, exhaustMap } from 'rxjs/operators'\nimport { AuthService } from '../auth/auth.service';\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataStorageService {\n\n  constructor(private http : HttpClient, \n              private recipeService : RecipeService, \n              private authService : AuthService) { }\n\n  storeRecipe()\n  {\n    const recipes = this.recipeService.getRecipes();\n    this.http.put\n    ('https://shopping-recipe-app-a6686-default-rtdb.firebaseio.com/recipes.json', recipes)\n    .subscribe( response => {\n      console.log(response);\n    }\n    );\n  }\n\n  fetchRecipe()\n  {\n  \n        return this.http.get<Recipe[]>\n        ('https://shopping-recipe-app-a6686-default-rtdb.firebaseio.com/recipes.json')\n          .pipe( \n                map( recipes => {\n                                  return recipes.map(recipe => {\n                                    return {...recipe, ingredients : recipe.ingredients ? recipe.ingredients : []}\n                                  })\n                                }), \n                tap(recipes => {\n                                this.recipeService.setRecipes(recipes);\n                               })\n                )\n  }\n  \n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-recipe',\n  templateUrl: './recipe.component.html',\n  styleUrls: ['./recipe.component.css']\n})\nexport class RecipeComponent implements OnInit {\n  \n  constructor() { }\n\n  ngOnInit(): void {\n    \n  }\n\n}\n","<div class=\"row\">\n    <div class=\"col-md-5\">\n        <app-recipe-list></app-recipe-list>\n    </div>\n    <div class=\"col-md-7\">\n        <router-outlet></router-outlet>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { Recipe } from '../recipe.model';\nimport { RecipeService } from '../recipe.service';\n\n@Component({\n  selector: 'app-recipe-detail',\n  templateUrl: './recipe-detail.component.html',\n  styleUrls: ['./recipe-detail.component.css']\n})\nexport class RecipeDetailComponent implements OnInit {\n\n  recipe : Recipe;\n  id: number;\n\n  constructor(private recipeService : RecipeService,private router: Router, private route : ActivatedRoute) { }\n\n  ngOnInit(): void {\n    this.route.params\n    .subscribe\n    (\n      (params: Params) => {\n        this.id = +params['id'];\n        this.recipe = this.recipeService.getRecipe(this.id);\n      }\n    )\n  }\n\n  onAddToShoppingList()\n  {\n    this.recipeService.addIngredientsToShoppingList(this.recipe.ingredients);\n  }\n\n  onEditRecipe()\n  {\n    this.router.navigate(['edit'], {relativeTo: this.route})\n  }\n\n  onDeleteRecipe()\n  {\n    this.recipeService.deleteRecipe(this.id);\n    this.router.navigate(['/recipes'])\n  }\n}\n","<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <img [src]=\"recipe.imagePath\" alt=\"{{recipe.name}}\" class=\"img-responsive\" style=\"max-height: 300px;\">\n    </div>\n</div>\n<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <h1>{{recipe.name}}</h1>\n    </div>\n</div>\n<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <div class=\"btn-group\" appDropdown>\n            <button type=\"button\" class=\"btn btn-primary dropdown-toggle\">\n                Manage Recipe <span class=\"caret\"></span>\n            </button>\n            <ul class=\"dropdown-menu\">\n                <li><a (click)=\"onAddToShoppingList()\" style=\"cursor: pointer;\">To Shopping List</a></li>\n                <li><a style=\"cursor: pointer;\" (click)=\"onEditRecipe()\">Edit Recipe</a></li>\n                <li><a style=\"cursor: pointer;\" (click)=\"onDeleteRecipe()\">Delete Recipe</a></li>\n            </ul>\n        </div>\n    </div>\n</div>\n<hr>\n<div class=\"row\">\n    <div class=\"col-xs-12\">\n        Description: {{recipe.description}}\n    </div>\n</div>\n<br>\n<div class=\"row\">\n    <div class=\"col-xs-12\">\n       <ul class=\"list-group\">\n           Ingredients:\n         <li class=\"list-group-item\" *ngFor=\"let ingredient of recipe.ingredients\">\n            {{ingredient.name}} - {{ingredient.amount}}\n         </li>\n       </ul>\n    </div>\n</div>","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { Ingredient } from '../shared/ingredient.model';\nimport { ShoppingListService } from '../shopping-list/shopping-list.service';\nimport { Recipe } from './recipe.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RecipeService {\n\n  recipeChanged = new Subject<Recipe[]>();\n\n  /*private recipes : Recipe[] = [\n    new Recipe(\n    'Rice Plate', \n    'Rice plate served with curry.', \n    'https://www.thespruceeats.com/thmb/yK8psUDvXdEKOvzFtLtx-n4ETuQ=/940x0/filters:no_upscale():max_bytes(150000):strip_icc():format(webp)/vegan-tofu-tikka-masala-recipe-3378484-hero-01-d676687a7b0a4640a55be669cba73095.jpg',\n    [\n      new Ingredient('Rice (in cups)',1),\n      new Ingredient('Curry (in cups)', 2)\n    ]),\n    new Recipe(\n     'Paav Bhaji',\n     'Served hot and spicy!',\n     'https://i0.wp.com/polkapuffs.in/wp-content/uploads/2015/07/Mumbai-Pav-Bhaji-final-3.jpeg',\n     [\n       new Ingredient('Breads',2),\n       new Ingredient('Onions',1),\n       new Ingredient('Tomato', 1),\n       new Ingredient('Cucumber', 0.5)\n     ])\n  ];*/\n\n  private recipes : Recipe[] = [];\n  \n  constructor(private shoppingListService : ShoppingListService) { }\n\n  setRecipes(recipes : Recipe[])\n  {\n    this.recipes = recipes;\n    this.recipeChanged.next(this.recipes.slice());\n  }\n\n  getRecipes()\n  {\n    return this.recipes.slice();\n  }\n\n  getRecipe(index:number)\n  {\n    return this.recipes[index];\n  }\n\n  addIngredientsToShoppingList(ingredients: Ingredient[])\n  {\n    this.shoppingListService.addIngredients(ingredients);\n  }\n\n  addRecipe(recipe : Recipe)\n  {\n    this.recipes.push(recipe);\n    this.recipeChanged.next(this.recipes.slice())\n  }\n\n  updateRecipe(index: number, newRecipe : Recipe){\n    this.recipes[index] = newRecipe;\n    this.recipeChanged.next(this.recipes.slice())\n  }\n\n  deleteRecipe(index : number)\n  {\n    this.recipes.splice(index, 1);\n    this.recipeChanged.next(this.recipes.slice());\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { DataStorageService } from '../shared/data-storage.service';\nimport { Recipe } from './recipe.model';\nimport { RecipeService } from './recipe.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RecipeResolverService implements Resolve<Recipe[]> {\n\n  constructor(private dataStorageService : DataStorageService, private recipeService : RecipeService) { }\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    const recipes = this.recipeService.getRecipes();\n    \n    if(recipes.length === 0)\n      return this.dataStorageService.fetchRecipe();\n    else\n      return recipes;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthResponseData, AuthService } from './auth.service';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css']\n})\nexport class AuthComponent implements OnInit {\n\n  isLoginMode = true;\n  isLoading = false;\n  error: string = null;\n\n  constructor(private authService: AuthService, private router : Router) { }\n\n  ngOnInit(): void {\n  }\n\n  onSwitchMode()\n  {\n    this.isLoginMode = !this.isLoginMode;\n  }\n\n  onSubmit(form : NgForm)\n  {\n    if(!form.valid)\n    {\n      return\n    }\n\n    const email = form.value.email;\n    const password =  form.value.password;\n\n    let authObservable : Observable<AuthResponseData>;\n\n    this.isLoading = true;\n    if(this.isLoginMode)\n    {\n     authObservable = this.authService.login(email,password);\n    }\n    else\n    {\n      authObservable = this.authService.signUp(email, password);\n    }\n\n    authObservable.subscribe(\n      responseData => {\n        console.log(responseData)\n        this.isLoading = false;\n        this.router.navigate(['/recipes']);\n      },\n      errorMessage => {\n        console.log(errorMessage)\n        this.error = errorMessage\n        this.isLoading = false;\n      }\n    )\n\n    form.reset();\n  }\n\n}\n","<div class=\"row\">\n    <div class=\"col-xs-12 col-md-6 col-md-offset-3\">\n        <div class=\"alert alert-danger\" *ngIf=\"error\">\n            <p> {{ error }} </p>\n        </div>\n        <div class=\"row\" *ngIf=\"isLoading\" style = \"text-align: center;\">\n            <app-loading-spinner></app-loading-spinner>\n        </div>\n        <form #loginForm = \"ngForm\" (ngSubmit) = \"onSubmit(loginForm)\" *ngIf=\"!isLoading\">\n            <div class=\"form-group\">\n                <label for=\"email\">E-mail</label>\n                <input type=\"email\" id=\"email\" class=\"form-control\" ngModel name=\"email\" required email>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"password\">Password</label>\n                <input type=\"password\" id=\"password\" class=\"form-control\" ngModel name=\"password\" required minlength=\"6\">\n            </div>\n            <div>\n                <button class=\"btn btn-primary\" type=\"submit\" [disabled] = \"!loginForm.valid\">{{ isLoginMode ? 'Login' : 'Sign Up'}}</button> | \n                <button type =\"button\" class=\"btn btn-primary\" (click)=\"onSwitchMode()\"> Switch to {{ isLoginMode ? 'Sign Up' : 'Login'}} </button>\n            </div>\n        </form>\n    </div>\n</div>","import { HttpEvent, HttpHandler, HttpInterceptor, HttpParams, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { exhaustMap, take } from 'rxjs/operators';\nimport { AuthService } from './auth.service';\n\n@Injectable()\nexport class AuthInterceptorService implements HttpInterceptor{\n\n  \n  constructor(private authService : AuthService) { }\n\n  intercept(req: HttpRequest<any>, next: HttpHandler){\n\n    return this.authService.userSubject.pipe(\n      take(1),\n      exhaustMap(user =>{        \n\n        if(!user)\n        {\n          return next.handle(req);\n        }\n\n        const modifiedRequest = req.clone({\n          params : new HttpParams().set('auth', user.token)\n        });\n        return next.handle(modifiedRequest);\n      })\n      );\n      \n  }\n\n}\n","import { Injectable } from \"@angular/core\";\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from \"@angular/router\";\r\nimport { Observable } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\nimport { AuthService } from \"./auth.service\";\r\n\r\n@Injectable(\r\n    {providedIn : 'root'}\r\n)\r\nexport class AuthGuard implements CanActivate {\r\n\r\n    constructor(private authService : AuthService, private router : Router) {\r\n        \r\n    }\r\n\r\n    canActivate(route: ActivatedRouteSnapshot,\r\n                state: RouterStateSnapshot): \r\n                boolean | UrlTree | Observable<boolean | UrlTree>| Promise<boolean | UrlTree>{\r\n        \r\n            return this.authService.userSubject.pipe(\r\n                take(1),\r\n                map(user => {\r\n                            const isAuth =  !!user;\r\n                            if(isAuth){\r\n                                return true;\r\n                            }\r\n                             return this.router.createUrlTree(['/auth']);\r\n                            })\r\n                );\r\n    }\r\n}","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from './auth/auth.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit{\n  title = 'shopping-recipe-app';\n\n  constructor(private authService: AuthService){\n\n  }\n  ngOnInit(): void {\n      this.authService.autoLogin();\n  }\n  \n}\n","<app-header></app-header>\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col-md-12\">\n      <router-outlet></router-outlet>\n    </div>\n  </div>\n</div>","import { Directive, ElementRef, HostBinding, HostListener } from '@angular/core';\n\n@Directive({\n  selector: '[appDropdown]'\n})\nexport class DropdownDirective {\n\n  @HostBinding('class.open') isOpen = false;\n  @HostListener('document:click', ['$event']) toggleOpen(event: Event) {\n    this.isOpen = this.elRef.nativeElement.contains(event.target) ? !this.isOpen : false;\n  }\n  constructor(private elRef: ElementRef) {}\n\n  /*@HostBinding('class.open') isOpen = false;\n  \n  @HostListener('click') toggleOpen(){\n    this.isOpen = !this.isOpen;\n  }\n  constructor() { }*/\n\n}\n","import { Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { NgModel, NgForm } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { Ingredient } from 'src/app/shared/ingredient.model';\nimport { ShoppingListService } from '../shopping-list.service';\n\n\n@Component({\n  selector: 'app-shopping-edit',\n  templateUrl: './shopping-edit.component.html',\n  styleUrls: ['./shopping-edit.component.css']\n})\nexport class ShoppingEditComponent implements OnInit, OnDestroy {\n\n  subscription : Subscription;\n  editMode= false;\n  editedItemIndex :number;\n  editedItem : Ingredient;\n  @ViewChild('shoppingForm') shoppingListForm : NgForm;\n\n  constructor(private shoppingListService : ShoppingListService) { }\n\n  ngOnInit(): void {\n    this.subscription = this.shoppingListService.startedEditing.subscribe(\n      (index : number) => {\n        this.editMode= true;\n        this.editedItemIndex = index;\n        this.editedItem = this.shoppingListService.getIngredient(index);\n        this.shoppingListForm.setValue(\n          {\n            name: this.editedItem.name,\n            amount: this.editedItem.amount\n          }\n        )\n      }\n    );\n    \n  }\n\n  onSubmitItem(shoppingForm: NgForm){\n    const value = shoppingForm.value;\n    const newIngredient = new Ingredient(value.name, value.amount);\n    if(this.editMode){\n      this.shoppingListService.updateIngredient(this.editedItemIndex,newIngredient);\n    }\n    else{\n      this.shoppingListService.addIngredient(newIngredient);\n    }\n    \n    this.editMode = false;\n    this.shoppingListForm.reset();  \n  }\n\n  onDeleteItem(){\n    this.shoppingListService.deleteIngredient(this.editedItemIndex);\n    this.onClearItem();\n  }\n\n  onClearItem(){\n    this.shoppingListForm.reset();\n    this.editMode = false;\n  }\n\n  ngOnDestroy(): void {\n      this.subscription.unsubscribe();\n  }\n}\n","<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <form (ngSubmit) = \"onSubmitItem(shoppingForm)\" #shoppingForm = \"ngForm\"> \n            <div class=\"row\">\n                <div class=\"col-sm-5 form-group\">\n                    <label for=\"name\">Name</label>\n                    <input type=\"text\" id=\"name\" class=\"form-control\" name=\"name\" ngModel required>\n                </div>\n                <div class=\"col-sm-2 form-group\">\n                    <label for=\"amount\">Amount</label>\n                    <input type=\"number\" id=\"amount\" class=\"form-control\" name=\"amount\" pattern=\"^[1-9]+[0-9]*$\" ngModel required>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-xs-12\">\n                    <button class=\"btn btn-success\" type=\"submit\" [disabled]=\"!shoppingForm.valid\">{{editMode ? 'Update' : 'Add'}}</button>\n                    <button class=\"btn btn-danger\" type=\"button\" (click)=\"onDeleteItem()\" *ngIf=\"editMode\">Delete</button>\n                    <button class=\"btn btn-primary\" type=\"button\" (click)=\"onClearItem()\">Clear</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { HeaderComponent } from './header/header.component';\nimport { RecipeComponent } from './recipe/recipe.component';\nimport { RecipeListComponent } from './recipe/recipe-list/recipe-list.component';\nimport { RecipeDetailComponent } from './recipe/recipe-detail/recipe-detail.component';\nimport { RecipeItemComponent } from './recipe/recipe-list/recipe-item/recipe-item.component';\nimport { ShoppingListComponent } from './shopping-list/shopping-list.component';\nimport { ShoppingEditComponent } from './shopping-list/shopping-edit/shopping-edit.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { DropdownDirective } from './Shared/dropdown.directive';\nimport { ShoppingListService } from './shopping-list/shopping-list.service';\nimport { RecipeStartComponent } from './recipe/recipe-start/recipe-start.component';\nimport { RecipeEditComponent } from './recipe/recipe-edit/recipe-edit.component';\nimport { RecipeService } from './recipe/recipe.service';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { AuthComponent } from './auth/auth.component';\nimport { LoadingSpinnerComponent } from './shared/loading-spinner/loading-spinner.component';\nimport { AuthInterceptorService } from './auth/auth-interceptor.service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HeaderComponent,\n    RecipeComponent,\n    RecipeListComponent,\n    RecipeDetailComponent,\n    RecipeItemComponent,\n    ShoppingListComponent,\n    ShoppingEditComponent,\n    DropdownDirective,\n    RecipeStartComponent,\n    RecipeEditComponent,\n    AuthComponent,\n    LoadingSpinnerComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule\n  ],\n  providers: [ShoppingListService, RecipeService, \n              {\n                provide : HTTP_INTERCEPTORS,\n                useClass : AuthInterceptorService,\n                multi : true\n              }\n             ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","export class User {\r\n    constructor(public email : string,\r\n                public id: string,\r\n                private _token: string, \r\n                private _tokenExpirationDate : Date){\r\n                \r\n    }\r\n\r\n    get token() {\r\n        if(!this._tokenExpirationDate || new Date() > this._tokenExpirationDate)\r\n        {\r\n            return null;\r\n        }\r\n        return this._token;\r\n    }\r\n}","import { Component, OnDestroy, OnInit} from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { AuthService } from '../auth/auth.service';\nimport { DataStorageService } from '../shared/data-storage.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent implements OnInit, OnDestroy {\n  collapsed = true;\n  subscription : Subscription;\n  isAuthenticated = false;\n\n  constructor(private dataStorageService : DataStorageService, private authService : AuthService) { }\n\n  ngOnInit(): void {\n    this.subscription = this.authService.userSubject.subscribe(\n      user => {\n        this.isAuthenticated = !!user;\n      }\n    )\n  }\n\n  onSaveData(){\n    this.dataStorageService.storeRecipe();\n  }\n\n  onFetchData(){\n    this.dataStorageService.fetchRecipe().subscribe();\n  }\n\n  onLogout(){\n    this.authService.logout();\n  }\n\n  ngOnDestroy(): void {\n      this.subscription.unsubscribe();\n  }\n}\n","<nav class=\"navbar navbar-default\">\n    <div class=\"container-fluid\">\n        <div class=\"navbar-header\">\n            <button type=\"button\" class=\"navbar-toggle\" (click)=\"collapsed = !collapsed\">\n                <span class=\"icon-bar\" *ngFor=\"let iconBar of [1, 2, 3]\"></span>\n            </button>\n            <a href=\"#\" class=\"navbar-brand\">Recipe Book</a>\n        </div>\n        <div class=\"navbar-collapse\" [class.collapse]=\"collapsed\" (window:resize)=\"collapsed = true\"></div>\n\n        <div class=\"navbar-default\">\n            <ul class=\"nav navbar-nav\">\n                <li routerLinkActive=\"active\"><a routerLink=\"/auth\" *ngIf=\"!isAuthenticated\">Authenticate</a></li>\n                <li routerLinkActive=\"active\"><a routerLink=\"/recipes\" *ngIf=\"isAuthenticated\">Recipes</a></li>\n                <li routerLinkActive=\"active\"><a routerLink=\"/shopping-list\">Shopping list</a></li>\n            </ul>\n            <ul class=\"nav navbar-nav navbar-right\">\n                <li>\n                    <a style=\"cursor: pointer;\" *ngIf=\"isAuthenticated\" (click)=\"onLogout()\">Logout</a>\n                </li>\n                <li class=\"dropdpwn\" appDropdown *ngIf=\"isAuthenticated\">\n                    <a style=\"cursor: pointer;\" class=\"dropdown-toggle\" role=\"button\" >Manage <span class=\"caret\"></span></a>\n                    <ul class=\"dropdown-menu\">\n                        <li><a style=\"cursor: pointer;\" (click)=\"onSaveData()\">Save Data</a></li>\n                        <li><a style=\"cursor: pointer;\" (click)=\"onFetchData()\">Fetch Data</a></li>\n                    </ul>\n                </li>\n            </ul>\n        </div>\n    </div>\n</nav>","import { Injectable } from '@angular/core';\nimport { Ingredient } from '../shared/ingredient.model';\n\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShoppingListService {\n\n  startedEditing = new Subject<number>();\n  ingredientsChanged = new Subject<Ingredient[]>();\n  private ingredients : Ingredient[] = [\n    new Ingredient('Apples',5),\n    new Ingredient('Tomatoes',10)\n  ];\n  \n  constructor() { }\n\n  getIngredients()\n  {\n    return this.ingredients.slice();\n  }\n\n  addIngredient(ingredient : Ingredient)\n  {\n    this.ingredients.push(ingredient);\n    this.ingredientsChanged.next(this.ingredients.slice())\n  }\n\n  addIngredients(ingredients : Ingredient[])\n  {\n    this.ingredients.push(...ingredients);\n    this.ingredientsChanged.next(this.ingredients.slice())\n  }\n\n  getIngredient(index : number)\n  {\n    return this.ingredients[index];\n  }\n\n  updateIngredient(index : number, newIngredient : Ingredient)\n  {\n    this.ingredients[index] = newIngredient;\n    this.ingredientsChanged.next(this.ingredients.slice());\n  }\n\n  deleteIngredient(index : number)\n  {\n    this.ingredients.splice(index, 1);\n    this.ingredientsChanged.next(this.ingredients.slice());\n  }\n}\n","import { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { catchError, tap } from 'rxjs/operators';\nimport {BehaviorSubject, throwError } from 'rxjs';\nimport { User } from './user.model';\nimport { Router } from '@angular/router';\n\nexport interface AuthResponseData{\n  kind: string;\n  idToken: string;\n  email: string;\n  refreshToken: string;\n  expiresIn: string;\n  localId: string;\n  registered?: boolean;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  userSubject = new BehaviorSubject<User>(null);\n  private tokenExpirationTimer : any;\n\n  constructor(private http : HttpClient, private router : Router) { }\n\n  signUp(email: string, password : string)\n  {\n    return this.http.post<AuthResponseData>(\n    'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyB-rxjoTJI3ZXe9R89Sp8gShno4ngm8Q1w',\n    {\n      email : email,\n      password : password,\n      returnSecureToken : true\n    }\n    ).pipe(catchError(this.handleError), tap(responseData => {\n      this.handleAuthentication(responseData.email, \n                                responseData.localId, \n                                responseData.idToken, \n                                +responseData.expiresIn)\n    }));\n\n  }\n\n  login(email: string, password : string){\n\n    return this.http.post<AuthResponseData>(\n    'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyB-rxjoTJI3ZXe9R89Sp8gShno4ngm8Q1w',\n    {\n      email : email,\n      password : password,\n      returnSecureToken : true\n    }).pipe(catchError(this.handleError), tap(responseData => {\n      this.handleAuthentication(responseData.email, \n                                responseData.localId, \n                                responseData.idToken, \n                                +responseData.expiresIn)\n    }));\n\n  }\n\n  private handleError(errorResponse : HttpErrorResponse)\n  {\n    let errorMessage = \"An unknown error occured!\";\n      if(!errorResponse.error || !errorResponse.error.error)\n      {\n        return throwError(errorMessage)\n      }\n      switch(errorResponse.error.error.message){\n        case 'EMAIL_EXISTS':\n          errorMessage = 'An has error occured while signing in! This email already exists!';\n          break;\n        case 'EMAIL_NOT_FOUND':\n          errorMessage = 'An has error occured while logging in! Email not Found!';\n          break;\n        case 'INVALID_PASSWORD':\n          errorMessage = 'An has error occured while logging in! Incorrect Password!';\n          break;\n      }\n      return throwError(errorMessage)\n  }\n\n  private handleAuthentication(email: string, userId : string, token : string, expiresIn : number){\n    const expirationDate = new Date(new Date().getTime() + expiresIn *1000);\n\n      const user = new User(email, \n                            userId,\n                            token,\n                            expirationDate);\n\n      this.userSubject.next(user);\n      this.autoLogout(expiresIn * 1000);\n      localStorage.setItem('userData', JSON.stringify(user))\n\n  }\n\n  autoLogin()\n  {\n    const userData : {\n      email : string,\n      id: string,\n      _token : string,\n      _tokenExpirationDate : string\n    } = JSON.parse(localStorage.getItem('userData'));\n\n    if(!userData)\n    {\n      return;\n    }\n    \n    const loadedUser = new User(\n                                  userData.email, userData.id, \n                                  userData._token, \n                                  new Date(userData._tokenExpirationDate)\n                               )\n\n    if (loadedUser.token)\n    {\n      this.userSubject.next(loadedUser);\n\n      const expirationDuration = new Date(userData._tokenExpirationDate).getTime() - new Date().getTime();\n\n      this.autoLogout(expirationDuration);\n    }\n  }\n\n  autoLogout(expirationDuration : number)\n  {\n    console.log(expirationDuration)\n    this.tokenExpirationTimer = setTimeout(() => {\n      this.logout();\n    },expirationDuration)\n  }\n\n  logout()\n  {\n    this.userSubject.next(null);\n    this.router.navigate(['/auth']);\n    localStorage.removeItem('userData');\n\n    if(this.tokenExpirationTimer){\n      clearTimeout(this.tokenExpirationTimer);\n    }\n\n    this.tokenExpirationTimer = null;\n  }\n\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Ingredient } from '../shared/ingredient.model';\nimport { ShoppingListService } from './shopping-list.service';\n\n@Component({\n  selector: 'app-shopping-list',\n  templateUrl: './shopping-list.component.html',\n  styleUrls: ['./shopping-list.component.css']\n})\n\nexport class ShoppingListComponent implements OnInit , OnDestroy{\n  ingredients : Ingredient[];\n  private subscription : Subscription;\n\n\n  constructor(private shoppingListService: ShoppingListService) { }\n\n  ngOnInit(): void {\n    this.ingredients = this.shoppingListService.getIngredients();\n    this.subscription = this.shoppingListService.ingredientsChanged.subscribe(\n      (ingredients : Ingredient[]) => {\n        this.ingredients = ingredients;\n      }\n    )\n  }\n\n  onEditItem(index : number)\n  {\n    this.shoppingListService.startedEditing.next(index);\n  }\n\n  ngOnDestroy(): void {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n    this.subscription.unsubscribe();\n  }\n\n}\n","<div class=\"row\">\n    <div class=\"col-xs-10\">\n        <app-shopping-edit></app-shopping-edit>\n        <hr>\n        <ul class=\"list-group\">\n            <a class=\"list-group-item\" style=\"cursor: pointer;\"\n            *ngFor=\"let ingredient of ingredients; let i = index\" (click)=\"onEditItem(i)\">\n            {{ingredient.name}} ({{ingredient.amount}})\n            </a>\n        </ul>\n    </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthComponent } from './auth/auth.component';\nimport { AuthGuard } from './auth/auth.guard';\nimport { RecipeDetailComponent } from './recipe/recipe-detail/recipe-detail.component';\nimport { RecipeEditComponent } from './recipe/recipe-edit/recipe-edit.component';\nimport { RecipeResolverService } from './recipe/recipe-resolver.service';\nimport { RecipeStartComponent } from './recipe/recipe-start/recipe-start.component';\nimport { RecipeComponent } from './recipe/recipe.component';\nimport { ShoppingListComponent } from './shopping-list/shopping-list.component';\n\nconst routes: Routes = [\n  {path: '', redirectTo: '/recipes', pathMatch: 'full'},\n  {path: 'recipes',\n   canActivate : [AuthGuard],\n   component: RecipeComponent, children:\n  [\n    {\n      path:'', component: RecipeStartComponent\n    },\n    {\n      path: 'new', component: RecipeEditComponent\n    },\n    {\n      path: ':id', component: RecipeDetailComponent, resolve : [RecipeResolverService]\n    },\n    {\n      path: ':id/edit', component: RecipeEditComponent, resolve : [RecipeResolverService]\n    }\n  ]\n  },\n  {path: 'shopping-list', component: ShoppingListComponent},\n  {path: 'auth', component: AuthComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-loading-spinner',\n  template: '<div class=\"lds-hourglass\"></div>',\n  styleUrls: ['./loading-spinner.component.css']\n})\nexport class LoadingSpinnerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n"],"sourceRoot":"webpack:///"}